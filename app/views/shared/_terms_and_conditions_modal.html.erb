<!-- Terms and Conditions Modal -->
<div data-controller="modal" data-modal-target="modal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <!-- Backdrop -->
  <div onclick="closeTermsModal()" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"></div>

  <!-- Modal container -->
  <div class="fixed inset-0 z-10 overflow-y-auto">
    <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
      <!-- Modal panel -->
      <div onclick="event.stopPropagation()" class="relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all sm:my-8 w-full max-w-2xl">
        <!-- Header -->
        <div class="bg-gradient-to-r from-indigo-600 to-violet-500 px-6 py-5">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center backdrop-blur-sm">
                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
              </div>
              <h3 class="text-lg font-semibold text-white" id="modal-title">
                Terms and Conditions
              </h3>
            </div>
            <button type="button" onclick="closeTermsModal()" class="rounded-lg bg-white/10 p-2 text-white/80 hover:text-white hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/50 transition-all">
              <span class="sr-only">Close</span>
              <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>
        </div>

        <!-- Content - Fixed height with scroll -->
        <div class="bg-white px-6 py-6 max-h-[28rem] overflow-y-auto">
          <div class="prose prose-sm max-w-none prose-slate">
            <p class="text-sm text-slate-500 mb-6 flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
              </svg>
              <span>Last updated: <%= Date.current.strftime("%B %d, %Y") %></span>
            </p>

            <div class="bg-indigo-50 border border-indigo-100 rounded-xl p-4 mb-6">
              <h4 class="text-base font-semibold text-indigo-900 mb-2 flex items-center gap-2">
                <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                Welcome to Tablr
              </h4>
              <p class="text-sm text-indigo-800">
                By using Tablr's services, you agree to these terms and conditions. Please read them carefully before proceeding with your registration.
              </p>
            </div>

            <h4 class="text-base font-semibold text-slate-900 mb-2">1. Service Description</h4>
            <p class="text-sm text-slate-700 mb-5">
              Tablr provides AI-powered review analysis and intelligence services for businesses of all types. We process publicly available review data from various platforms including Google Maps, Yelp, TrustPilot, App Store, Google Play, and other review sites to extract complaints, suggestions, and actionable insights.
            </p>

            <h4 class="text-base font-semibold text-slate-900 mb-2">2. Subscription Plans and Data Limits</h4>
            <div class="text-sm text-slate-700 mb-5">
              <p class="mb-3"><strong class="text-slate-900">Business Analytics Pro ($9/month) includes:</strong></p>
              <ul class="list-none space-y-2 pl-0">
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-indigo-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  <span>Analysis of up to 2,000 reviews from the last 6 months of historic data</span>
                </li>
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-indigo-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  <span>Connection to all 6 supported review platforms</span>
                </li>
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-indigo-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  <span>Weekly or monthly automated email reports</span>
                </li>
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-indigo-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  <span>AI-powered complaint and suggestion extraction</span>
                </li>
              </ul>
              <p class="mt-3 text-slate-600">For analysis of additional reviews beyond plan limits, please contact our support team.</p>
            </div>

            <h4 class="text-base font-semibold text-slate-900 mb-2">3. Daily Review Processing Limits</h4>
            <p class="text-sm text-slate-700 mb-5">
              Our service processes a maximum of 60 new reviews per day per business. If your business receives more than 60 reviews on any given day, only the most recent 60 reviews will be analyzed and included in your dashboard for that day.
            </p>

            <h4 class="text-base font-semibold text-slate-900 mb-2">4. Data Sources and Privacy</h4>
            <div class="text-sm text-slate-700 mb-5">
              <p class="mb-3">Tablr operates within the following guidelines:</p>
              <ul class="list-none space-y-2 pl-0">
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                  </svg>
                  <span>We only analyze publicly available review data</span>
                </li>
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                  </svg>
                  <span>We do not store or access any private customer information</span>
                </li>
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                  </svg>
                  <span>All data processing complies with applicable privacy laws</span>
                </li>
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                  </svg>
                  <span>We respect platform terms of service and rate limits</span>
                </li>
              </ul>
            </div>

            <h4 class="text-base font-semibold text-slate-900 mb-2">5. Pricing and Payment Terms</h4>
            <div class="text-sm text-slate-700 mb-5">
              <ul class="list-none space-y-2 pl-0">
                <li class="flex items-start gap-2">
                  <span class="w-1.5 h-1.5 bg-slate-400 rounded-full mt-2 flex-shrink-0"></span>
                  <span>Tablr reserves the right to modify pricing structure in the future</span>
                </li>
                <li class="flex items-start gap-2">
                  <span class="w-1.5 h-1.5 bg-slate-400 rounded-full mt-2 flex-shrink-0"></span>
                  <span>Existing subscribers will receive 30 days advance notice of any pricing changes</span>
                </li>
                <li class="flex items-start gap-2">
                  <span class="w-1.5 h-1.5 bg-slate-400 rounded-full mt-2 flex-shrink-0"></span>
                  <span>You may cancel your subscription at any time before the next billing cycle</span>
                </li>
              </ul>
            </div>

            <h4 class="text-base font-semibold text-slate-900 mb-2">6. Service Availability</h4>
            <p class="text-sm text-slate-700 mb-5">
              While we strive to maintain 99.9% uptime, Tablr does not guarantee uninterrupted service availability. We reserve the right to perform maintenance and updates that may temporarily affect service availability.
            </p>

            <h4 class="text-base font-semibold text-slate-900 mb-2">7. Data Accuracy and Liability</h4>
            <p class="text-sm text-slate-700 mb-5">
              Tablr provides analysis based on publicly available data and AI-powered sentiment analysis. While we strive for accuracy, we cannot guarantee 100% precision in sentiment classification or data completeness. Users should use insights as guidance alongside their own business judgment.
            </p>

            <h4 class="text-base font-semibold text-slate-900 mb-2">8. Acceptable Use</h4>
            <div class="text-sm text-slate-700 mb-5">
              <p class="mb-3">Users agree not to:</p>
              <ul class="list-none space-y-2 pl-0">
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-rose-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  <span>Attempt to reverse engineer or circumvent our service</span>
                </li>
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-rose-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  <span>Use the service for any illegal or unauthorized purpose</span>
                </li>
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-rose-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  <span>Share account credentials with unauthorized parties</span>
                </li>
                <li class="flex items-start gap-2">
                  <svg class="w-4 h-4 text-rose-500 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  <span>Attempt to access data beyond your subscription limits</span>
                </li>
              </ul>
            </div>

            <h4 class="text-base font-semibold text-slate-900 mb-2">9. Cancellation and Refunds</h4>
            <p class="text-sm text-slate-700 mb-5">
              You may cancel your subscription at any time. Cancellations will take effect at the end of your current billing period. We offer a 30-day money-back guarantee for new subscribers.
            </p>

            <h4 class="text-base font-semibold text-slate-900 mb-2">10. Support and Contact</h4>
            <p class="text-sm text-slate-700 mb-5">
              For questions about these terms, billing issues, or requests for additional data analysis beyond plan limits, please contact our support team at <a href="mailto:hello@tablr.io" class="text-indigo-600 hover:text-indigo-500">hello@tablr.io</a> or through the in-app support feature.
            </p>

            <h4 class="text-base font-semibold text-slate-900 mb-2">11. Changes to Terms</h4>
            <p class="text-sm text-slate-700 mb-5">
              Tablr may update these terms and conditions periodically. Users will be notified of significant changes via email or through the application interface. Continued use of the service after changes constitutes acceptance of updated terms.
            </p>

            <h4 class="text-base font-semibold text-slate-900 mb-2">12. Governing Law</h4>
            <p class="text-sm text-slate-700 mb-5">
              These terms and conditions are governed by the laws of the jurisdiction where Tablr operates. Any disputes will be resolved through binding arbitration in accordance with applicable arbitration rules.
            </p>

            <div class="bg-slate-50 border border-slate-200 rounded-xl p-4 mt-6">
              <p class="text-sm text-slate-600 flex items-start gap-2">
                <svg class="w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span>By clicking "I Accept" below and proceeding with registration, you acknowledge that you have read, understood, and agree to be bound by these terms and conditions.</span>
              </p>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div class="bg-slate-50 px-6 py-4 flex flex-col-reverse gap-3 sm:flex-row sm:justify-end sm:gap-3 border-t border-slate-100">
          <button type="button" onclick="closeTermsModal()" class="inline-flex w-full justify-center items-center rounded-xl bg-white px-5 py-2.5 text-sm font-semibold text-slate-700 shadow-sm ring-1 ring-inset ring-slate-200 hover:bg-slate-50 sm:w-auto transition-colors">
            Cancel
          </button>
          <button type="button" id="accept-terms-btn" onclick="acceptTermsAndClose()" class="inline-flex w-full justify-center items-center rounded-xl bg-gradient-to-r from-indigo-600 to-violet-500 px-5 py-2.5 text-sm font-semibold text-white shadow-sm hover:shadow-lg hover:shadow-indigo-500/25 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto transition-all">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            I Accept
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
